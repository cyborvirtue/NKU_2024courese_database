# 酒店信息管理系统
NKU22届数据库课程大作业
## 项目概述
本酒店信息管理系统是一个综合性的系统，旨在帮助酒店高效地管理各种信息，包括客房信息、客户入住信息、员工数据统计等。系统结合了数据库管理和图形用户界面（GUI），为用户提供了便捷的操作体验。

## 运行方法

### 1. 配置 MySQL
首先，你需要安装并配置好 MySQL 数据库，同时需要安装 Python 与 MySQL 的连接器。以下是一些参考教程：
- [MySQL 的详细安装教程 - 知乎](https://zhuanlan.zhihu.com/p/188416607)
- [pycharm 连接 MySQL 数据库 - 晴天看恒星 - 博客园](https://www.cnblogs.com/korol7/p/12836290.html)

### 2. 安装 PyQt5
PyQt5 是本系统用于实现可视化界面的重要库，你需要安装它以及相关工具。参考教程如下：
- [(17 条消息) Python + PyQt5 + QtDesigner + PyUic + PyRcc（最全安装教程）_sever 默默的博客 - CSDN 博客_pyrcc](https://blog.csdn.net/baidu_35145586/article/details/108110236)
- [PyCharm 安装 PyQt5 及其工具（Qt Designer、PyUIC、PyRcc）详细教程 - 知乎](https://zhuanlan.zhihu.com/p/469526603)
- [PyQt 入门教程 Qt Designer 工具的使用 - 锅边糊 - 博客园](https://www.cnblogs.com/linyfeng/p/11223707.html)

### 3. 导入 SQL 文件
在数据库管理系统（如 Navicat）或 MySQL 命令行中导入 `hotelManagement.sql` 文件，该文件包含了系统所需的所有表结构。导入后，你可以根据需要自行修改表内数据，但要注意参照完整性约束。

### 4. 修改数据库配置
打开 `main.py` 文件，找到 `dbConfig` 变量，根据你的 MySQL 数据库配置信息（如账号、密码、数据库名等）对其进行修改。

### 5. 移动图片文件夹
将项目文档内的 `/pictures` 文件夹移动到 `D:` 盘根目录下。这是因为前端 Qt StyleSheet 中许多图片采用的是绝对地址，如 `D:/pictures/xxx`。

### 6. 运行主程序
完成以上步骤后，运行 `Main.py` 文件即可启动酒店信息管理系统。

## 依赖库
本项目依赖以下 Python 库：
- **pyqt5**：用于实现可视化展示，创建图形用户界面，让用户可以方便地与系统进行交互。
- **pymysql**：作为 Python3 与 MySQL 数据库的连接库，负责处理数据库的读写操作。
- **matplotlib**：用于生成各种报表，如员工数据统计报表等，以直观的图表形式展示数据。
- **xlwt**：用于将数据写入 Excel 文件，方便用户进行数据备份和分析。

## 主要功能模块

### 1. 客房管理
- **增加房间**：通过 `addRoom` 函数实现，可向系统中添加新的房间信息，包括房间号、房间类型、楼层、价格、描述和图片等。在添加房间时，会对房间号进行验证，确保房间号为三位数且第一个数字与楼层相等。

### 2. 入住管理
- **团体入住**：`teamCheckin` 函数负责处理团体入住信息的登记。在登记前会检查结束时间是否大于今天，若不满足条件会给出提示。同时，会检查对应房间在该时间段是否被占用（入住或预约），若被占用则无法登记。
- **团队预约**：`reserveTeam` 函数用于处理团队的房间预约信息登记，会检查结束时间是否大于开始时间，若不满足条件会给出提示。

### 3. 退房管理
- **退房操作**：`checkoutDB` 函数实现了个人和团队的退房操作。在退房时，会根据不同的退房类型（个人或团队）进行相应的处理，包括插入订单信息、删除入住信息，并计算需要支付的费用。

### 4. 数据统计
- **员工数据统计**：`getStaffStatics` 函数用于获取员工相关的数据统计信息，如每个员工登记的订单数量等。

### 5. 数据库操作
- **导出数据库**：`toSQLDB` 函数可将整个数据库导出为 SQL 文件，方便数据备份和迁移。

## 代码结构说明
项目的主要代码文件为 `Main.py`，其中包含了多个功能函数，如上述提到的客房管理、入住管理、退房管理、数据统计和数据库操作等函数。每个函数都有明确的功能注释，方便开发人员理解和维护。

同时，项目中还有一些与 Qt Designer 相关的文件，用于设计和实现图形用户界面。

## 注意事项
- 在运行项目前，请确保所有依赖库已正确安装，并且数据库配置信息已正确修改。
- 若在运行过程中遇到问题，请检查数据库连接是否正常，以及图片文件夹是否已正确移动到 `D:` 盘根目录下。

